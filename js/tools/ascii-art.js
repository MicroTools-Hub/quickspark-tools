// ==========================================
// ASCII Art Generator - God Tier Version
// ==========================================

// ASCII Art Font Definitions
const asciifonts = {
    standard: {
        'A': ['  ___  ', ' / _ \\ ', '| |_| |', '|  _  |', '|_| |_|'],
        'B': [' ____  ', '|  _ \\ ', '| |_) |', '|  _ < ', '|_| \\_\\'],
        'C': ['  ____ ', ' / ___|', '| |    ', '| |___ ', ' \\____|'],
        'D': [' ____  ', '|  _ \\ ', '| | | |', '| |_| |', '|____/ '],
        'E': [' _____ ', '|  ___|', '| |__  ', '|  __| ', '|_____|'],
        'F': [' _____ ', '|  ___|', '| |__  ', '|  __| ', '|_|    '],
        'G': ['  ____ ', ' / ___|', '| |  _ ', '| |_| |', ' \\____|'],
        'H': ' _   _ \n| | | |\n| |_| |\n|  _  |\n|_| |_|',
        'I': [' ___', '|_ _|', ' | | ', ' | | ', '|___|'],
        'J': ['     _ ', '    | |', ' _  | |', '| |_| |', ' \\___/ '],
        'K': [' _  __', '| |/ /', '| \' / ', '| . \\ ', '|_|\\_\\'],
        'L': [' _     ', '| |    ', '| |    ', '| |___ ', '|_____|'],
        'M': [' __  __ ', '|  \\/  |', '| |\\/| |', '| |  | |', '|_|  |_|'],
        'N': [' _   _ ', '| \\ | |', '|  \\| |', '| |\\  |', '|_| \\_|'],
        'O': ['  ___  ', ' / _ \\ ', '| | | |', '| |_| |', ' \\___/ '],
        'P': [' ____  ', '|  _ \\ ', '| |_) |', '|  __/ ', '|_|    '],
        'Q': ['  ___  ', ' / _ \\ ', '| | | |', '| |_| |', ' \\__\\_\\'],
        'R': [' ____  ', '|  _ \\ ', '| |_) |', '|  _ < ', '|_| \\_\\'],
        'S': ['  ____  ', ' / ___| ', ' \\___ \\ ', '  ___) |', ' |____/ '],
        'T': [' _____ ', '|_   _|', '  | |  ', '  | |  ', '  |_|  '],
        'U': [' _   _ ', '| | | |', '| | | |', '| |_| |', ' \\___/ '],
        'V': [' _   _ ', '| | | |', '| | | |', '| |_| |', '  \\V/  '],
        'W': [' _    _ ', '| |  | |', '| |  | |', '| |/\\| |', '|__/\\__|'],
        'X': [' __  __', ' \\ \\/ /', '  >  < ', ' / /\\ \\', '/_/  \\_\\'],
        'Y': [' __   __', ' \\ \\ / /', '  \\ V / ', '   | |  ', '   |_|  '],
        'Z': [' _____ ', '|__  / ', '  / /  ', ' / /_  ', '/____|'],
        ' ': ['       ', '       ', '       ', '       ', '       '],
        '0': ['  ___  ', ' / _ \\ ', '| | | |', '| |_| |', ' \\___/ '],
        '1': ['  __ ', ' /_ |', '  | |', '  | |', '  |_|'],
        '2': [' ___  ', '|__ \\ ', '   ) |', '  / / ', ' |___|'],
        '3': [' ___  ', '|__ \\ ', '   ) |', '  / / ', ' |___|'],
        '4': [' _  _   ', '| || |  ', '| || |_ ', '|__   _|', '   |_|  '],
        '5': ['  ____  ', ' | ___| ', ' |___ \\ ', '  ___) |', ' |____/ '],
        '6': ['   __   ', '  / /   ', ' / /_   ', '| \'_ \\  ', ' \\___/  '],
        '7': [' _____ ', '|___  |', '   / / ', '  / /  ', ' /_/   '],
        '8': ['  ___  ', ' ( _ ) ', ' / _ \\ ', '| (_) |', ' \\___/ '],
        '9': ['  ___  ', ' / _ \\ ', '| (_) |', ' \\__, |', '   /_/ ']
    },
    block: {
        height: 5,
        chars: {
            'A': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ'],
            'B': ['â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ '],
            'C': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ    ', 'â–ˆ    ', 'â–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'D': ['â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ '],
            'E': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'F': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆ    ', 'â–ˆ    '],
            'G': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ    ', 'â–ˆ  â–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'H': ['â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ'],
            'I': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '  â–ˆ  ', '  â–ˆ  ', '  â–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'J': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆ', '    â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'K': ['â–ˆ   â–ˆ', 'â–ˆ  â–ˆ ', 'â–ˆâ–ˆâ–ˆ  ', 'â–ˆ  â–ˆ ', 'â–ˆ   â–ˆ'],
            'L': ['â–ˆ    ', 'â–ˆ    ', 'â–ˆ    ', 'â–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'M': ['â–ˆ   â–ˆ', 'â–ˆâ–ˆ â–ˆâ–ˆ', 'â–ˆ â–ˆ â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ'],
            'N': ['â–ˆ   â–ˆ', 'â–ˆâ–ˆ  â–ˆ', 'â–ˆ â–ˆ â–ˆ', 'â–ˆ  â–ˆâ–ˆ', 'â–ˆ   â–ˆ'],
            'O': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'P': ['â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆ    ', 'â–ˆ    '],
            'Q': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'R': ['â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆ  â–ˆ ', 'â–ˆ   â–ˆ'],
            'S': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'T': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '  â–ˆ  ', '  â–ˆ  ', '  â–ˆ  ', '  â–ˆ  '],
            'U': ['â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            'V': ['â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', ' â–ˆ â–ˆ ', '  â–ˆ  '],
            'W': ['â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ â–ˆ â–ˆ', 'â–ˆâ–ˆ â–ˆâ–ˆ', 'â–ˆ   â–ˆ'],
            'X': ['â–ˆ   â–ˆ', ' â–ˆ â–ˆ ', '  â–ˆ  ', ' â–ˆ â–ˆ ', 'â–ˆ   â–ˆ'],
            'Y': ['â–ˆ   â–ˆ', ' â–ˆ â–ˆ ', '  â–ˆ  ', '  â–ˆ  ', '  â–ˆ  '],
            'Z': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '   â–ˆ ', '  â–ˆ  ', ' â–ˆ   ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            ' ': ['     ', '     ', '     ', '     ', '     '],
            '0': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            '1': ['  â–ˆ  ', ' â–ˆâ–ˆ  ', '  â–ˆ  ', '  â–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            '2': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            '3': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            '4': ['â–ˆ   â–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆ', '    â–ˆ'],
            '5': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            '6': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            '7': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆ', '   â–ˆ ', '  â–ˆ  ', ' â–ˆ   '],
            '8': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
            '9': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆ   â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ']
        }
    },
    bubble: {
        map: {
            'a': 'â“', 'b': 'â“‘', 'c': 'â“’', 'd': 'â““', 'e': 'â“”', 'f': 'â“•', 'g': 'â“–', 'h': 'â“—', 'i': 'â“˜', 'j': 'â“™',
            'k': 'â“š', 'l': 'â“›', 'm': 'â“œ', 'n': 'â“', 'o': 'â“ž', 'p': 'â“Ÿ', 'q': 'â“ ', 'r': 'â“¡', 's': 'â“¢', 't': 'â“£',
            'u': 'â“¤', 'v': 'â“¥', 'w': 'â“¦', 'x': 'â“§', 'y': 'â“¨', 'z': 'â“©',
            'A': 'â’¶', 'B': 'â’·', 'C': 'â’¸', 'D': 'â’¹', 'E': 'â’º', 'F': 'â’»', 'G': 'â’¼', 'H': 'â’½', 'I': 'â’¾', 'J': 'â’¿',
            'K': 'â“€', 'L': 'â“', 'M': 'â“‚', 'N': 'â“ƒ', 'O': 'â“„', 'P': 'â“…', 'Q': 'â“†', 'R': 'â“‡', 'S': 'â“ˆ', 'T': 'â“‰',
            'U': 'â“Š', 'V': 'â“‹', 'W': 'â“Œ', 'X': 'â“', 'Y': 'â“Ž', 'Z': 'â“',
            '0': 'â“ª', '1': 'â‘ ', '2': 'â‘¡', '3': 'â‘¢', '4': 'â‘£', '5': 'â‘¤', '6': 'â‘¥', '7': 'â‘¦', '8': 'â‘§', '9': 'â‘¨',
            ' ': ' '
        }
    },
    squared: {
        map: {
            'a': 'ðŸ„°', 'b': 'ðŸ„±', 'c': 'ðŸ„²', 'd': 'ðŸ„³', 'e': 'ðŸ„´', 'f': 'ðŸ„µ', 'g': 'ðŸ„¶', 'h': 'ðŸ„·', 'i': 'ðŸ„¸', 'j': 'ðŸ„¹',
            'k': 'ðŸ„º', 'l': 'ðŸ„»', 'm': 'ðŸ„¼', 'n': 'ðŸ„½', 'o': 'ðŸ„¾', 'p': 'ðŸ„¿', 'q': 'ðŸ…€', 'r': 'ðŸ…', 's': 'ðŸ…‚', 't': 'ðŸ…ƒ',
            'u': 'ðŸ…„', 'v': 'ðŸ……', 'w': 'ðŸ…†', 'x': 'ðŸ…‡', 'y': 'ðŸ…ˆ', 'z': 'ðŸ…‰',
            'A': 'ðŸ„°', 'B': 'ðŸ„±', 'C': 'ðŸ„²', 'D': 'ðŸ„³', 'E': 'ðŸ„´', 'F': 'ðŸ„µ', 'G': 'ðŸ„¶', 'H': 'ðŸ„·', 'I': 'ðŸ„¸', 'J': 'ðŸ„¹',
            'K': 'ðŸ„º', 'L': 'ðŸ„»', 'M': 'ðŸ„¼', 'N': 'ðŸ„½', 'O': 'ðŸ„¾', 'P': 'ðŸ„¿', 'Q': 'ðŸ…€', 'R': 'ðŸ…', 'S': 'ðŸ…‚', 'T': 'ðŸ…ƒ',
            'U': 'ðŸ…„', 'V': 'ðŸ……', 'W': 'ðŸ…†', 'X': 'ðŸ…‡', 'Y': 'ðŸ…ˆ', 'Z': 'ðŸ…‰',
            ' ': ' '
        }
    },
    cursive: {
        map: {
            'a': 'ð“ª', 'b': 'ð“«', 'c': 'ð“¬', 'd': 'ð“­', 'e': 'ð“®', 'f': 'ð“¯', 'g': 'ð“°', 'h': 'ð“±', 'i': 'ð“²', 'j': 'ð“³',
            'k': 'ð“´', 'l': 'ð“µ', 'm': 'ð“¶', 'n': 'ð“·', 'o': 'ð“¸', 'p': 'ð“¹', 'q': 'ð“º', 'r': 'ð“»', 's': 'ð“¼', 't': 'ð“½',
            'u': 'ð“¾', 'v': 'ð“¿', 'w': 'ð”€', 'x': 'ð”', 'y': 'ð”‚', 'z': 'ð”ƒ',
            'A': 'ð“', 'B': 'ð“‘', 'C': 'ð“’', 'D': 'ð““', 'E': 'ð“”', 'F': 'ð“•', 'G': 'ð“–', 'H': 'ð“—', 'I': 'ð“˜', 'J': 'ð“™',
            'K': 'ð“š', 'L': 'ð“›', 'M': 'ð“œ', 'N': 'ð“', 'O': 'ð“ž', 'P': 'ð“Ÿ', 'Q': 'ð“ ', 'R': 'ð“¡', 'S': 'ð“¢', 'T': 'ð“£',
            'U': 'ð“¤', 'V': 'ð“¥', 'W': 'ð“¦', 'X': 'ð“§', 'Y': 'ð“¨', 'Z': 'ð“©',
            ' ': ' '
        }
    },
    bold: {
        map: {
            'a': 'ð—®', 'b': 'ð—¯', 'c': 'ð—°', 'd': 'ð—±', 'e': 'ð—²', 'f': 'ð—³', 'g': 'ð—´', 'h': 'ð—µ', 'i': 'ð—¶', 'j': 'ð—·',
            'k': 'ð—¸', 'l': 'ð—¹', 'm': 'ð—º', 'n': 'ð—»', 'o': 'ð—¼', 'p': 'ð—½', 'q': 'ð—¾', 'r': 'ð—¿', 's': 'ð˜€', 't': 'ð˜',
            'u': 'ð˜‚', 'v': 'ð˜ƒ', 'w': 'ð˜„', 'x': 'ð˜…', 'y': 'ð˜†', 'z': 'ð˜‡',
            'A': 'ð—”', 'B': 'ð—•', 'C': 'ð—–', 'D': 'ð——', 'E': 'ð—˜', 'F': 'ð—™', 'G': 'ð—š', 'H': 'ð—›', 'I': 'ð—œ', 'J': 'ð—',
            'K': 'ð—ž', 'L': 'ð—Ÿ', 'M': 'ð— ', 'N': 'ð—¡', 'O': 'ð—¢', 'P': 'ð—£', 'Q': 'ð—¤', 'R': 'ð—¥', 'S': 'ð—¦', 'T': 'ð—§',
            'U': 'ð—¨', 'V': 'ð—©', 'W': 'ð—ª', 'X': 'ð—«', 'Y': 'ð—¬', 'Z': 'ð—­',
            '0': 'ðŸ¬', '1': 'ðŸ­', '2': 'ðŸ®', '3': 'ðŸ¯', '4': 'ðŸ°', '5': 'ðŸ±', '6': 'ðŸ²', '7': 'ðŸ³', '8': 'ðŸ´', '9': 'ðŸµ',
            ' ': ' '
        }
    },
    double: {
        map: {
            'a': 'ð•’', 'b': 'ð•“', 'c': 'ð•”', 'd': 'ð••', 'e': 'ð•–', 'f': 'ð•—', 'g': 'ð•˜', 'h': 'ð•™', 'i': 'ð•š', 'j': 'ð•›',
            'k': 'ð•œ', 'l': 'ð•', 'm': 'ð•ž', 'n': 'ð•Ÿ', 'o': 'ð• ', 'p': 'ð•¡', 'q': 'ð•¢', 'r': 'ð•£', 's': 'ð•¤', 't': 'ð•¥',
            'u': 'ð•¦', 'v': 'ð•§', 'w': 'ð•¨', 'x': 'ð•©', 'y': 'ð•ª', 'z': 'ð•«',
            'A': 'ð”¸', 'B': 'ð”¹', 'C': 'â„‚', 'D': 'ð”»', 'E': 'ð”¼', 'F': 'ð”½', 'G': 'ð”¾', 'H': 'â„', 'I': 'ð•€', 'J': 'ð•',
            'K': 'ð•‚', 'L': 'ð•ƒ', 'M': 'ð•„', 'N': 'â„•', 'O': 'ð•†', 'P': 'â„™', 'Q': 'â„š', 'R': 'â„', 'S': 'ð•Š', 'T': 'ð•‹',
            'U': 'ð•Œ', 'V': 'ð•', 'W': 'ð•Ž', 'X': 'ð•', 'Y': 'ð•', 'Z': 'â„¤',
            '0': 'ðŸ˜', '1': 'ðŸ™', '2': 'ðŸš', '3': 'ðŸ›', '4': 'ðŸœ', '5': 'ðŸ', '6': 'ðŸž', '7': 'ðŸŸ', '8': 'ðŸ ', '9': 'ðŸ¡',
            ' ': ' '
        }
    },
    smallcaps: {
        map: {
            'a': 'á´€', 'b': 'Ê™', 'c': 'á´„', 'd': 'á´…', 'e': 'á´‡', 'f': 'êœ°', 'g': 'É¢', 'h': 'Êœ', 'i': 'Éª', 'j': 'á´Š',
            'k': 'á´‹', 'l': 'ÊŸ', 'm': 'á´', 'n': 'É´', 'o': 'á´', 'p': 'á´˜', 'q': 'Ç«', 'r': 'Ê€', 's': 'êœ±', 't': 'á´›',
            'u': 'á´œ', 'v': 'á´ ', 'w': 'á´¡', 'x': 'x', 'y': 'Ê', 'z': 'á´¢',
            'A': 'á´€', 'B': 'Ê™', 'C': 'á´„', 'D': 'á´…', 'E': 'á´‡', 'F': 'êœ°', 'G': 'É¢', 'H': 'Êœ', 'I': 'Éª', 'J': 'á´Š',
            'K': 'á´‹', 'L': 'ÊŸ', 'M': 'á´', 'N': 'É´', 'O': 'á´', 'P': 'á´˜', 'Q': 'Ç«', 'R': 'Ê€', 'S': 'êœ±', 'T': 'á´›',
            'U': 'á´œ', 'V': 'á´ ', 'W': 'á´¡', 'X': 'x', 'Y': 'Ê', 'Z': 'á´¢',
            ' ': ' '
        }
    },
    medieval: {
        map: {
            'a': 'ð”ž', 'b': 'ð”Ÿ', 'c': 'ð” ', 'd': 'ð”¡', 'e': 'ð”¢', 'f': 'ð”£', 'g': 'ð”¤', 'h': 'ð”¥', 'i': 'ð”¦', 'j': 'ð”§',
            'k': 'ð”¨', 'l': 'ð”©', 'm': 'ð”ª', 'n': 'ð”«', 'o': 'ð”¬', 'p': 'ð”­', 'q': 'ð”®', 'r': 'ð”¯', 's': 'ð”°', 't': 'ð”±',
            'u': 'ð”²', 'v': 'ð”³', 'w': 'ð”´', 'x': 'ð”µ', 'y': 'ð”¶', 'z': 'ð”·',
            'A': 'ð”„', 'B': 'ð”…', 'C': 'â„­', 'D': 'ð”‡', 'E': 'ð”ˆ', 'F': 'ð”‰', 'G': 'ð”Š', 'H': 'â„Œ', 'I': 'â„‘', 'J': 'ð”',
            'K': 'ð”Ž', 'L': 'ð”', 'M': 'ð”', 'N': 'ð”‘', 'O': 'ð”’', 'P': 'ð”“', 'Q': 'ð””', 'R': 'â„œ', 'S': 'ð”–', 'T': 'ð”—',
            'U': 'ð”˜', 'V': 'ð”™', 'W': 'ð”š', 'X': 'ð”›', 'Y': 'ð”œ', 'Z': 'â„¨',
            ' ': ' '
        }
    }
};

let currentStyle = 'standard';
let currentBorder = 'none';

function generateAscii() {
    const input = document.getElementById('asciiInput').value;
    const style = document.getElementById('asciiStyle').value;
    const border = document.getElementById('asciiBorder')?.value || 'none';
    
    currentStyle = style;
    currentBorder = border;
    
    if (!input) {
        document.getElementById('asciiResult').textContent = '';
        updateCharCount(0);
        return;
    }
    
    let result = '';
    
    // Apply font style
    if (style === 'standard' || style === 'block') {
        result = generateMultilineAscii(input.toUpperCase(), style);
    } else if (asciifonts[style] && asciifonts[style].map) {
        result = applyCharMap(input, asciifonts[style].map);
    } else {
        result = input;
    }
    
    // Apply border
    if (border !== 'none') {
        result = applyBorder(result, border);
    }
    
    document.getElementById('asciiResult').textContent = result;
    updateCharCount(result.length);
}

function generateMultilineAscii(text, style) {
    const font = asciifonts[style];
    if (!font) return text;
    
    if (style === 'block') {
        const lines = ['', '', '', '', ''];
        for (let char of text) {
            const charLines = font.chars[char] || font.chars[' '];
            for (let i = 0; i < 5; i++) {
                lines[i] += charLines[i] + ' ';
            }
        }
        return lines.join('\n');
    }
    
    return text;
}

function applyCharMap(text, map) {
    return text.split('').map(char => map[char] || char).join('');
}

function applyBorder(text, borderType) {
    const lines = text.split('\n');
    const maxLen = Math.max(...lines.map(l => l.length));
    
    const borders = {
        simple: { tl: '+', tr: '+', bl: '+', br: '+', h: '-', v: '|' },
        double: { tl: 'â•”', tr: 'â•—', bl: 'â•š', br: 'â•', h: 'â•', v: 'â•‘' },
        rounded: { tl: 'â•­', tr: 'â•®', bl: 'â•°', br: 'â•¯', h: 'â”€', v: 'â”‚' },
        thick: { tl: 'â”', tr: 'â”“', bl: 'â”—', br: 'â”›', h: 'â”', v: 'â”ƒ' },
        dots: { tl: 'Â·', tr: 'Â·', bl: 'Â·', br: 'Â·', h: 'Â·', v: ':', }
    };
    
    const b = borders[borderType] || borders.simple;
    const topLine = b.tl + b.h.repeat(maxLen + 2) + b.tr;
    const bottomLine = b.bl + b.h.repeat(maxLen + 2) + b.br;
    
    const borderedLines = lines.map(line => {
        return b.v + ' ' + line.padEnd(maxLen, ' ') + ' ' + b.v;
    });
    
    return [topLine, ...borderedLines, bottomLine].join('\n');
}

function updateCharCount(count) {
    const el = document.getElementById('asciiCharCount');
    if (el) {
        el.textContent = `${count} characters`;
    }
}

function clearAscii() {
    document.getElementById('asciiInput').value = '';
    document.getElementById('asciiResult').textContent = '';
    updateCharCount(0);
}

function copyAsciiText() {
    const text = document.getElementById('asciiResult').textContent;
    if (text) {
        copyToClipboard(text);
    }
}

function copyAsciiHTML() {
    const pre = document.getElementById('asciiResult');
    const html = `<pre>${pre.textContent.replace(/[&<>]/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;'}[m]))}</pre>`;
    copyToClipboard(html);
}

function downloadAscii() {
    const text = document.getElementById('asciiResult').textContent;
    if (!text) {
        showNotification('No ASCII art to download');
        return;
    }
    downloadFile(text, 'ascii-art.txt', 'text/plain');
}

function randomizeAscii() {
    const styles = ['standard', 'block', 'bubble', 'squared', 'cursive', 'bold', 'double', 'smallcaps', 'medieval'];
    const borders = ['none', 'simple', 'double', 'rounded', 'thick', 'dots'];
    
    document.getElementById('asciiStyle').value = styles[Math.floor(Math.random() * styles.length)];
    document.getElementById('asciiBorder').value = borders[Math.floor(Math.random() * borders.length)];
    
    generateAscii();
}

// Initialize
function initAsciiArt() {
    const input = document.getElementById('asciiInput');
    if (input) {
        input.addEventListener('input', generateAscii);
    }
    updateCharCount(0);
}

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initAsciiArt);
} else {
    initAsciiArt();
}
